(function(t){function s(s){for(var n,a,c=s[0],o=s[1],u=s[2],d=0,p=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);l&&l(s);while(p.length)p.shift()();return r.push.apply(r,u||[]),e()}function e(){for(var t,s=0;s<r.length;s++){for(var e=r[s],n=!0,c=1;c<e.length;c++){var o=e[c];0!==i[o]&&(n=!1)}n&&(r.splice(s--,1),t=a(a.s=e[0]))}return t}var n={},i={app:0},r=[];function a(s){if(n[s])return n[s].exports;var e=n[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=n,a.d=function(t,s,e){a.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,s){if(1&s&&(t=a(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var n in t)a.d(e,n,function(s){return t[s]}.bind(null,n));return e},a.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(s,"a",s),s},a.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},a.p="/shop-page/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=s,c=c.slice();for(var u=0;u<c.length;u++)s(c[u]);var l=o;r.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"56d7":function(t,s,e){"use strict";e.r(s);e("e260"),e("e6cf"),e("cca6"),e("a79d"),e("6d93");var n=e("2b0e"),i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("main",{staticClass:"grid container",attrs:{id:"app"}},[e("div",{staticClass:"sub_category_page"},[e("div",{staticClass:"column_right column_right_products_container"},[e("div",{staticClass:"product__area"},[t._l(t.products,(function(s,n){return e("div",{key:n,attrs:{id:n}},[e("div",{staticClass:"products_page"},[e("div",{staticClass:"product product_horizontal"},[e("span",{staticClass:"product_code"},[t._v("Код: "+t._s(s.code))]),t._m(0,!0),e("div",{staticClass:"product_photo"},[e("a",{staticClass:"url--link product__link",attrs:{href:"#"}},[e("img",{attrs:{src:s.primaryImageUrl}})])]),e("div",{staticClass:"product_description"},[e("a",{staticClass:"product__link",attrs:{href:"#"}},[t._v(t._s(t.getTitle(s)))])]),e("div",{staticClass:"product_tags hidden-sm"},[e("p",[t._v("Могут понадобиться:")]),t._l(s.assocProducts.split("\n"),(function(s,n){return e("a",{key:n,staticClass:"url--link",attrs:{href:"#"}},[t._v(t._s(t.getAssoc(s)))])}))],2),e("div",{staticClass:"product_units"},[e("div",{staticClass:"unit--wrapper"},[e("div",{staticClass:"unit--select-btn",class:{"unit--active":t.btnID[n]},on:{click:function(s){return t.btnToggle(n)}}},[t._v(" За "+t._s(t.getUnitAlt(s))+" ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:s.unit!==s.unitAlt,expression:"product.unit !== product.unitAlt"}],staticClass:"unit--select-btn",class:{"unit--active":t.btnAltID[n]},on:{click:function(s){return t.btnAltToggle(n)}}},[t._v(" За "+t._s(t.getUnitName(s))+" ")])])]),e("p",{staticClass:"product_price_club_card"},[t._m(1,!0),e("span",{staticClass:"goldPrice"},[t._v(t._s(t.getGold(s,n)))]),e("span",{staticClass:"rouble__i black__i"},[e("svg",{attrs:{version:"1.0",id:"rouble__b",xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",width:"30px",height:"22px",viewBox:"0 0 50 50","enable-background":"new 0 0 50 50","xml:space":"preserve"}},[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#rouble_black"}})])])]),e("p",{staticClass:"product_price_default"},[e("span",{staticClass:"retailPrice"},[t._v(t._s(t.getRetail(s,n)))]),e("span",{staticClass:"rouble__i black__i"},[e("svg",{attrs:{version:"1.0",id:"rouble__g",xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",width:"30px",height:"22px",viewBox:"0 0 50 50","enable-background":"new 0 0 50 50","xml:space":"preserve"}},[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#rouble_gray"}})])])]),t._m(2,!0),e("div",{staticClass:"list--unit-padd"}),e("div",{staticClass:"list--unit-desc"},[e("div",{staticClass:"unit--info"},[e("div",{staticClass:"unit--desc-i"}),e("div",{staticClass:"unit--desc-t"},[e("p",[e("span",{staticClass:"ng-binding"},[t._v("Продается "+t._s(t.getUnitFull(s)))]),e("span",{staticClass:"unit--infoInn"},[t._v(t._s(t.getUnitRatio(s)))])])])])]),e("div",{staticClass:"product__wrapper"},[e("div",{staticClass:"product_count_wrapper"},[e("div",{staticClass:"stepper"},[e("input",{staticClass:"product__count stepper-input",attrs:{type:"number"},domProps:{value:t.counterID[n]},on:{input:function(s){return t.updateValue(n,s)},wheel:function(t){return t.target.blur()}}}),e("span",{staticClass:"stepper-arrow up",class:{disabled:t.increaseIsDisabled[n]},on:{click:function(s){return t.increaseCounter(n)}}}),e("span",{staticClass:"stepper-arrow down",class:{disabled:t.decreaseIsDisabled[n]},on:{click:function(s){return t.decreaseCounter(n)}}})])]),e("span",{staticClass:"btn btn_cart",attrs:{"data-url":"/cart/","data-product-id":s.productId},on:{click:function(e){return e.preventDefault(),t.addToCart(s,n)}}},[e("svg",{staticClass:"ic ic_cart"},[e("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#cart"}})]),e("span",{staticClass:"ng-binding"},[t._v("В корзину")])])])])])])})),e("Icons")],2)])])])},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"product_status_tooltip_container"},[e("span",{staticClass:"product_status"},[t._v("Наличие ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"product_price_club_card_text"},[t._v("По карте"),e("br"),t._v("клуба")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"product_price_points"},[e("p",{staticClass:"ng-binding"},[t._v("Можно купить за 231,75 балла")])])}],a=(e("fb6a"),e("a9e3"),e("b680"),e("d3b7"),function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("svg",{attrs:{viewBox:"0 0 497 415",xmlns:"http://www.w3.org/2000/svg",display:"none"}},[e("symbol",{attrs:{id:"rouble_black"}},[e("path",{attrs:{fill:"#010101",d:"M44.431,6.112c-1.719-2.395-4.211-4.125-7.055-4.899c-3.884-0.647-7.824-0.894-11.759-0.735H9.743v22.194H3.031v8.329h6.712v4.556H3.031v8.329h6.712v5.683h9.799v-5.634h14.698v-8.329H19.542v-4.507h6.467c3.427,0.083,6.854-0.147,10.24-0.686c1.764-0.451,3.427-1.232,4.899-2.303c1.763-1.273,3.192-2.954,4.165-4.899c1.155-2.36,1.711-4.968,1.617-7.594C47.17,12.259,46.291,8.917,44.431,6.112z M35.955,19.585c-0.757,1.1-1.835,1.938-3.087,2.401c-2.557,0.664-5.201,0.928-7.839,0.784h-5.487V8.855h4.899c2.373-0.064,4.748,0.051,7.104,0.343c1.528,0.25,2.927,1.01,3.969,2.156c1.068,1.215,1.629,2.793,1.568,4.409C37.112,17.123,36.718,18.459,35.955,19.585L35.955,19.585z"}})]),e("symbol",{attrs:{id:"rouble_gray"}},[e("path",{attrs:{fill:"#a7a7a7 ",d:"M28.109,29.658c5.173,0.578,10.357-0.979,14.355-4.312c4.172-4.748,5.151-11.509,2.499-17.246c-0.847-1.953-2.2-3.644-3.92-4.899c-1.813-1.204-3.872-1.991-6.026-2.303c-2.464-0.37-4.955-0.534-7.447-0.49H9.05v23.272H3.562v5.781H9.05v5.977H3.562v5.781H9.05v8.378h6.467v-8.133h20.088v-5.781H15.517v-6.026H28.06H28.109z M15.566,6.386h12.543c2.019-0.074,4.04,0.074,6.026,0.441c1.673,0.442,3.132,1.467,4.116,2.891c1.062,1.539,1.611,3.373,1.568,5.242c0.138,2.473-0.832,4.879-2.646,6.565c-2.601,1.812-5.76,2.645-8.917,2.352H15.517V6.386H15.566z"}})]),e("symbol",{attrs:{id:"cart"}},[e("path",{attrs:{d:"m14.571 16.381c.571 0 .952.381.952.952 0 .571-.381.952-.952.952-.571 0-.952-.381-.952-.952 0-.571.476-.952.952-.952m0-.952c-1.048 0-1.905.857-1.905 1.905 0 1.048.857 1.905 1.905 1.905 1.048 0 1.905-.857 1.905-1.905 0-1.048-.857-1.905-1.905-1.905"}}),e("path",{attrs:{d:"m7.905 16.381c.571 0 .952.381.952.952 0 .571-.381.952-.952.952-.571 0-.952-.381-.952-.952 0-.571.476-.952.952-.952m0-.952c-1.048 0-1.905.857-1.905 1.905 0 1.048.857 1.905 1.905 1.905 1.048 0 1.905-.857 1.905-1.905 0-1.048-.857-1.905-1.905-1.905"}}),e("path",{attrs:{d:"m16.476 14.476h-10.857l-.095-.381c0-.095-1.429-9.714-1.905-11.524-.381-1.524-3.333-1.429-3.333-1.429v-.952c.095 0 3.714-.286 4.286 2.19.381 1.714 1.619 9.333 1.81 11.143h10.1v.952"}}),e("path",{attrs:{d:"m4.095 3.048h15.238v.952h-15.238z"}}),e("path",{attrs:{d:"m5.05 10.667h12.381v.952h-12.381z"}}),e("path",{attrs:{d:"m16.476 11.619h.952l1.905-8.571h-.952l-1.905 8.571"}})])])}),c=[],o={name:"Icons"},u=o,l=e("2877"),d=Object(l["a"])(u,a,c,!1,null,null,null),p=d.exports,h={name:"App",components:{Icons:p},data:function(){return{counter:0,products:{},idCounter:0,btnID:[],btnAltID:[],counterID:[],increaseIsDisabled:{},decreaseIsDisabled:{},cart:[]}},methods:{changeUrl:function(){for(var t=0;t<this.products.length;t++)this.products[t].primaryImageUrl=this.products[t].primaryImageUrl.slice(0,-4)+"_220x220_1"+this.products[t].primaryImageUrl.slice(-4)},getIDs:function(){for(var t=0;t<this.products.length;t++)this.btnID[t]=!0,this.btnAltID[t]=!1,this.counterID[t]=1,this.increaseIsDisabled[t]=!1,this.decreaseIsDisabled[t]=!0},btnToggle:function(t){this.$set(this.btnAltID,t,!1),this.$set(this.btnID,t,!0)},btnAltToggle:function(t){this.$set(this.btnID,t,!1),this.$set(this.btnAltID,t,!0)},getTitle:function(t){return t.title},getAssoc:function(t){return" ".concat(t)},getGold:function(t,s){return this.btnID[s]?(t.priceGoldAlt*this.counterID[s]).toFixed(2):(t.priceGold*this.counterID[s]).toFixed(2)},getRetail:function(t,s){return this.btnID[s]?(t.priceRetailAlt*this.counterID[s]).toFixed(2):(t.priceRetail*this.counterID[s]).toFixed(2)},getUnitFull:function(t){return"метр погонный"===t.unitFull?"метрами погонными":t.unitFull+"ми:"},getUnitAlt:function(t){return" ".concat(t.unitAlt)},getUnitName:function(t){return"метр погонный"===t.unitFull?" ".concat(t.unitFull):" ".concat(t.unitFull.slice(0,-1),"у")},getUnitRatio:function(t){return"шт."===t.unit?t.unitRatio+" "+t.unit:t.unitRatio+" "+t.unit+" = "+t.unitRatioAlt+" "+t.unitAlt},increaseCounter:function(t){this.decreaseIsDisabled[t]=!1,this.counterID[t]<99&&this.$set(this.counterID,t,Number(this.counterID[t])+1),99===this.counterID[t]&&(this.increaseIsDisabled[t]=!0)},decreaseCounter:function(t){this.increaseIsDisabled[t]=!1,this.counterID[t]>1&&this.$set(this.counterID,t,Number(this.counterID[t])-1),1===this.counterID[t]&&(this.decreaseIsDisabled[t]=!0)},addToCart:function(t,s){var e={id:t.productId,amount:this.counterID[s]};this.cart.push(e),alert("Товар добавлен в корзину")},updateValue:function(t,s){var e=s.target.value;switch(String(e).length<=2&&this.$set(this.counterID,t,e),(this.counterID[t].isNan||this.counterID[t]>99)&&this.$set(this.counterID,t,1),(Number(e).isNan||Number(e)<1)&&this.$set(this.counterID,t,1),Number(this.counterID[t])){case 1:this.decreaseIsDisabled[t]=!0,this.increaseIsDisabled[t]=!1;break;case 99:this.increaseIsDisabled[t]=!0,this.decreaseIsDisabled[t]=!1;break;default:this.decreaseIsDisabled[t]=!1,this.increaseIsDisabled[t]=!1;break}this.$forceUpdate()}},created:function(){var t=this;fetch("products.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return t.json()})).then((function(s){t.products=s,t.changeUrl(),t.getIDs()}))}},v=h,_=(e("5c0b"),Object(l["a"])(v,i,r,!1,null,null,null)),b=_.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(b)}}).$mount("#app")},"5c0b":function(t,s,e){"use strict";e("9c0c")},"9c0c":function(t,s,e){}});
//# sourceMappingURL=app.js.map